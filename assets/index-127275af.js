function _n(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var He,$,kr,ye,qt,Or,bt,Sr,tt={},Er=[],pn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function oe(r,e){for(var t in e)r[t]=e[t];return r}function xr(r){var e=r.parentNode;e&&e.removeChild(r)}function ne(r,e,t){var n,s,i,o={};for(i in e)i=="key"?n=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?He.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(i in r.defaultProps)o[i]===void 0&&(o[i]=r.defaultProps[i]);return Le(r,o,n,s,null)}function Le(r,e,t,n,s){var i={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++kr};return s==null&&$.vnode!=null&&$.vnode(i),i}function vn(){return{current:null}}function Z(r){return r.children}function Q(r,e){this.props=r,this.context=e}function Fe(r,e){if(e==null)return r.__?Fe(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Fe(r):null}function Cr(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Cr(r)}}function wt(r){(!r.__d&&(r.__d=!0)&&ye.push(r)&&!rt.__r++||qt!==$.debounceRendering)&&((qt=$.debounceRendering)||Or)(rt)}function rt(){var r,e,t,n,s,i,o,l;for(ye.sort(bt);r=ye.shift();)r.__d&&(e=ye.length,n=void 0,s=void 0,o=(i=(t=r).__v).__e,(l=t.__P)&&(n=[],(s=oe({},i)).__v=i.__v+1,Pt(l,i,s,t.__n,l.ownerSVGElement!==void 0,i.__h!=null?[o]:null,n,o??Fe(i),i.__h),Dr(n,i),i.__e!=o&&Cr(i)),ye.length>e&&ye.sort(bt));rt.__r=0}function Ar(r,e,t,n,s,i,o,l,c,u){var a,d,_,p,v,w,g,O=n&&n.__k||Er,j=O.length;for(t.__k=[],a=0;a<e.length;a++)if((p=t.__k[a]=(p=e[a])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Le(null,p,null,null,p):Array.isArray(p)?Le(Z,{children:p},null,null,null):p.__b>0?Le(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=t,p.__b=t.__b+1,(_=O[a])===null||_&&p.key==_.key&&p.type===_.type)O[a]=void 0;else for(d=0;d<j;d++){if((_=O[d])&&p.key==_.key&&p.type===_.type){O[d]=void 0;break}_=null}Pt(r,p,_=_||tt,s,i,o,l,c,u),v=p.__e,(d=p.ref)&&_.ref!=d&&(g||(g=[]),_.ref&&g.push(_.ref,null,p),g.push(d,p.__c||v,p)),v!=null?(w==null&&(w=v),typeof p.type=="function"&&p.__k===_.__k?p.__d=c=Pr(p,c,r):c=jr(r,p,_,O,v,c),typeof t.type=="function"&&(t.__d=c)):c&&_.__e==c&&c.parentNode!=r&&(c=Fe(_))}for(t.__e=w,a=j;a--;)O[a]!=null&&(typeof t.type=="function"&&O[a].__e!=null&&O[a].__e==t.__d&&(t.__d=Rr(n).nextSibling),Ur(O[a],O[a]));if(g)for(a=0;a<g.length;a++)Ir(g[a],g[++a],g[++a])}function Pr(r,e,t){for(var n,s=r.__k,i=0;s&&i<s.length;i++)(n=s[i])&&(n.__=r,e=typeof n.type=="function"?Pr(n,e,t):jr(t,n,n,s,n.__e,e));return e}function ee(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){ee(t,e)}):e.push(r)),e}function jr(r,e,t,n,s,i){var o,l,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==r)r.appendChild(s),o=null;else{for(l=i,c=0;(l=l.nextSibling)&&c<n.length;c+=1)if(l==s)break e;r.insertBefore(s,i),o=i}return o!==void 0?o:s.nextSibling}function Rr(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=Rr(t)))return n}return null}function yn(r,e,t,n,s){var i;for(i in t)i==="children"||i==="key"||i in e||nt(r,i,null,t[i],n);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||t[i]===e[i]||nt(r,i,e[i],t[i],n)}function Jt(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||pn.test(e)?t:t+"px"}function nt(r,e,t,n,s){var i;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||Jt(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Jt(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+i]=t,t?n||r.addEventListener(e,i?Vt:Wt,i):r.removeEventListener(e,i?Vt:Wt,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?r.removeAttribute(e):r.setAttribute(e,t))}}function Wt(r){return this.l[r.type+!1]($.event?$.event(r):r)}function Vt(r){return this.l[r.type+!0]($.event?$.event(r):r)}function Pt(r,e,t,n,s,i,o,l,c){var u,a,d,_,p,v,w,g,O,j,F,M,B,J,te,U=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,l=e.__e=t.__e,e.__h=null,i=[l]),(u=$.__b)&&u(e);try{e:if(typeof U=="function"){if(g=e.props,O=(u=U.contextType)&&n[u.__c],j=u?O?O.props.value:u.__:n,t.__c?w=(a=e.__c=t.__c).__=a.__E:("prototype"in U&&U.prototype.render?e.__c=a=new U(g,j):(e.__c=a=new Q(g,j),a.constructor=U,a.render=gn),O&&O.sub(a),a.props=g,a.state||(a.state={}),a.context=j,a.__n=n,d=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),U.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=oe({},a.__s)),oe(a.__s,U.getDerivedStateFromProps(g,a.__s))),_=a.props,p=a.state,a.__v=e,d)U.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(U.getDerivedStateFromProps==null&&g!==_&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(g,j),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(g,a.__s,j)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(L){L&&(L.__=e)}),F=0;F<a._sb.length;F++)a.__h.push(a._sb[F]);a._sb=[],a.__h.length&&o.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(g,a.__s,j),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(_,p,v)})}if(a.context=j,a.props=g,a.__P=r,M=$.__r,B=0,"prototype"in U&&U.prototype.render){for(a.state=a.__s,a.__d=!1,M&&M(e),u=a.render(a.props,a.state,a.context),J=0;J<a._sb.length;J++)a.__h.push(a._sb[J]);a._sb=[]}else do a.__d=!1,M&&M(e),u=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++B<25);a.state=a.__s,a.getChildContext!=null&&(n=oe(oe({},n),a.getChildContext())),d||a.getSnapshotBeforeUpdate==null||(v=a.getSnapshotBeforeUpdate(_,p)),te=u!=null&&u.type===Z&&u.key==null?u.props.children:u,Ar(r,Array.isArray(te)?te:[te],e,t,n,s,i,o,l,c),a.base=e.__e,e.__h=null,a.__h.length&&o.push(a),w&&(a.__E=a.__=null),a.__e=!1}else i==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=mn(t.__e,e,t,n,s,i,o,c);(u=$.diffed)&&u(e)}catch(L){e.__v=null,(c||i!=null)&&(e.__e=l,e.__h=!!c,i[i.indexOf(l)]=null),$.__e(L,e,t)}}function Dr(r,e){$.__c&&$.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){$.__e(n,t.__v)}})}function mn(r,e,t,n,s,i,o,l){var c,u,a,d=t.props,_=e.props,p=e.type,v=0;if(p==="svg"&&(s=!0),i!=null){for(;v<i.length;v++)if((c=i[v])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){r=c,i[v]=null;break}}if(r==null){if(p===null)return document.createTextNode(_);r=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,_.is&&_),i=null,l=!1}if(p===null)d===_||l&&r.data===_||(r.data=_);else{if(i=i&&He.call(r.childNodes),u=(d=t.props||tt).dangerouslySetInnerHTML,a=_.dangerouslySetInnerHTML,!l){if(i!=null)for(d={},v=0;v<r.attributes.length;v++)d[r.attributes[v].name]=r.attributes[v].value;(a||u)&&(a&&(u&&a.__html==u.__html||a.__html===r.innerHTML)||(r.innerHTML=a&&a.__html||""))}if(yn(r,_,d,s,l),a)e.__k=[];else if(v=e.props.children,Ar(r,Array.isArray(v)?v:[v],e,t,n,s&&p!=="foreignObject",i,o,i?i[0]:t.__k&&Fe(t,0),l),i!=null)for(v=i.length;v--;)i[v]!=null&&xr(i[v]);l||("value"in _&&(v=_.value)!==void 0&&(v!==r.value||p==="progress"&&!v||p==="option"&&v!==d.value)&&nt(r,"value",v,d.value,!1),"checked"in _&&(v=_.checked)!==void 0&&v!==r.checked&&nt(r,"checked",v,d.checked,!1))}return r}function Ir(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){$.__e(n,t)}}function Ur(r,e,t){var n,s;if($.unmount&&$.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||Ir(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){$.__e(i,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(s=0;s<n.length;s++)n[s]&&Ur(n[s],e,t||typeof r.type!="function");t||r.__e==null||xr(r.__e),r.__=r.__e=r.__d=void 0}function gn(r,e,t){return this.constructor(r,t)}function xe(r,e,t){var n,s,i;$.__&&$.__(r,e),s=(n=typeof t=="function")?null:t&&t.__k||e.__k,i=[],Pt(e,r=(!n&&t||e).__k=ne(Z,null,[r]),s||tt,tt,e.ownerSVGElement!==void 0,!n&&t?[t]:s?null:e.firstChild?He.call(e.childNodes):null,i,!n&&t?t:s?s.__e:e.firstChild,n),Dr(i,r)}function Lr(r,e){xe(r,e,Lr)}function Nr(r,e,t){var n,s,i,o=oe({},r.props);for(i in e)i=="key"?n=e[i]:i=="ref"?s=e[i]:o[i]=e[i];return arguments.length>2&&(o.children=arguments.length>3?He.call(arguments,2):t),Le(r.type,o,n||r.key,s||r.ref,null)}function Mr(r,e){var t={__c:e="__cC"+Sr++,__:r,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(l){l.__e=!0,wt(l)})},this.sub=function(o){s.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),l&&l.call(o)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}He=Er.slice,$={__e:function(r,e,t,n){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(r)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,n||{}),o=s.__d),o)return s.__E=s}catch(l){r=l}throw r}},kr=0,Q.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=oe({},this.state),typeof r=="function"&&(r=r(oe({},t),this.props)),r&&oe(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),wt(this))},Q.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),wt(this))},Q.prototype.render=Z,ye=[],Or=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bt=function(r,e){return r.__v.__b-e.__v.__b},rt.__r=0,Sr=0;var Te,N,ut,Gt,Ce=0,Fr=[],Xe=[],Kt=$.__b,Yt=$.__r,Zt=$.diffed,Xt=$.__c,Qt=$.unmount;function Ae(r,e){$.__h&&$.__h(N,r,Ce||e),Ce=0;var t=N.__H||(N.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({__V:Xe}),t.__[r]}function _e(r){return Ce=1,Br(Hr,r)}function Br(r,e,t){var n=Ae(Te++,2);if(n.t=r,!n.__c&&(n.__=[t?t(e):Hr(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,l);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=N,!N.u)){var s=function(l,c,u){if(!n.__c.__H)return!0;var a=n.__c.__H.__.filter(function(_){return _.__c});if(a.every(function(_){return!_.__N}))return!i||i.call(this,l,c,u);var d=!1;return a.forEach(function(_){if(_.__N){var p=_.__[0];_.__=_.__N,_.__N=void 0,p!==_.__[0]&&(d=!0)}}),!(!d&&n.__c.props===l)&&(!i||i.call(this,l,c,u))};N.u=!0;var i=N.shouldComponentUpdate,o=N.componentWillUpdate;N.componentWillUpdate=function(l,c,u){if(this.__e){var a=i;i=void 0,s(l,c,u),i=a}o&&o.call(this,l,c,u)},N.shouldComponentUpdate=s}return n.__N||n.__}function jt(r,e){var t=Ae(Te++,3);!$.__s&&Dt(t.__H,e)&&(t.__=r,t.i=e,N.__H.__h.push(t))}function it(r,e){var t=Ae(Te++,4);!$.__s&&Dt(t.__H,e)&&(t.__=r,t.i=e,N.__h.push(t))}function bn(r){return Ce=5,Rt(function(){return{current:r}},[])}function wn(r,e,t){Ce=6,it(function(){return typeof r=="function"?(r(e()),function(){return r(null)}):r?(r.current=e(),function(){return r.current=null}):void 0},t==null?t:t.concat(r))}function Rt(r,e){var t=Ae(Te++,7);return Dt(t.__H,e)?(t.__V=r(),t.i=e,t.__h=r,t.__V):t.__}function $n(r,e){return Ce=8,Rt(function(){return r},e)}function Tn(r){var e=N.context[r.__c],t=Ae(Te++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(N)),e.props.value):r.__}function kn(r,e){$.useDebugValue&&$.useDebugValue(e?e(r):r)}function On(){var r=Ae(Te++,11);if(!r.__){for(var e=N.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);r.__="P"+t[0]+"-"+t[1]++}return r.__}function Sn(){for(var r;r=Fr.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Qe),r.__H.__h.forEach($t),r.__H.__h=[]}catch(e){r.__H.__h=[],$.__e(e,r.__v)}}$.__b=function(r){N=null,Kt&&Kt(r)},$.__r=function(r){Yt&&Yt(r),Te=0;var e=(N=r.__c).__H;e&&(ut===N?(e.__h=[],N.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Xe,t.__N=t.i=void 0})):(e.__h.forEach(Qe),e.__h.forEach($t),e.__h=[])),ut=N},$.diffed=function(r){Zt&&Zt(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(Fr.push(e)!==1&&Gt===$.requestAnimationFrame||((Gt=$.requestAnimationFrame)||En)(Sn)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Xe&&(t.__=t.__V),t.i=void 0,t.__V=Xe})),ut=N=null},$.__c=function(r,e){e.some(function(t){try{t.__h.forEach(Qe),t.__h=t.__h.filter(function(n){return!n.__||$t(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],$.__e(n,t.__v)}}),Xt&&Xt(r,e)},$.unmount=function(r){Qt&&Qt(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Qe(n)}catch(s){e=s}}),t.__H=void 0,e&&$.__e(e,t.__v))};var er=typeof requestAnimationFrame=="function";function En(r){var e,t=function(){clearTimeout(n),er&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);er&&(e=requestAnimationFrame(t))}function Qe(r){var e=N,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),N=e}function $t(r){var e=N;r.__c=r.__(),N=e}function Dt(r,e){return!r||r.length!==e.length||e.some(function(t,n){return t!==r[n]})}function Hr(r,e){return typeof e=="function"?e(r):e}var xn={};function We(r,e){for(var t in e)r[t]=e[t];return r}function Cn(r,e,t){var n,s=/(?:\?([^#]*))?(#.*)?$/,i=r.match(s),o={};if(i&&i[1])for(var l=i[1].split("&"),c=0;c<l.length;c++){var u=l[c].split("=");o[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}r=Tt(r.replace(s,"")),e=Tt(e||"");for(var a=Math.max(r.length,e.length),d=0;d<a;d++)if(e[d]&&e[d].charAt(0)===":"){var _=e[d].replace(/(^:|[+*?]+$)/g,""),p=(e[d].match(/[+*?]+$/)||xn)[0]||"",v=~p.indexOf("+"),w=~p.indexOf("*"),g=r[d]||"";if(!g&&!w&&(p.indexOf("?")<0||v)){n=!1;break}if(o[_]=decodeURIComponent(g),v||w){o[_]=r.slice(d).map(decodeURIComponent).join("/");break}}else if(e[d]!==r[d]){n=!1;break}return(t.default===!0||n!==!1)&&o}function An(r,e){return r.rank<e.rank?1:r.rank>e.rank?-1:r.index-e.index}function Pn(r,e){return r.index=e,r.rank=function(t){return t.props.default?0:Tt(t.props.path).map(jn).join("")}(r),r.props}function Tt(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function jn(r){return r.charAt(0)==":"?1+"*+?".indexOf(r.charAt(r.length-1))||4:5}var Rn={},we=[],tr=[],K=null,zr={url:It()},Dn=Mr(zr);function It(){var r;return""+((r=K&&K.location?K.location:K&&K.getCurrentLocation?K.getCurrentLocation():typeof location<"u"?location:Rn).pathname||"")+(r.search||"")}function ae(r,e){return e===void 0&&(e=!1),typeof r!="string"&&r.url&&(e=r.replace,r=r.url),function(t){for(var n=we.length;n--;)if(we[n].canRoute(t))return!0;return!1}(r)&&function(t,n){n===void 0&&(n="push"),K&&K[n]?K[n](t):typeof history<"u"&&history[n+"State"]&&history[n+"State"](null,null,t)}(r,e?"replace":"push"),qr(r)}function qr(r){for(var e=!1,t=0;t<we.length;t++)we[t].routeTo(r)&&(e=!0);return e}function In(r){if(r&&r.getAttribute){var e=r.getAttribute("href"),t=r.getAttribute("target");if(e&&e.match(/^\//g)&&(!t||t.match(/^_?self$/i)))return ae(e)}}function Un(r){return r.stopImmediatePropagation&&r.stopImmediatePropagation(),r.stopPropagation&&r.stopPropagation(),r.preventDefault(),!1}function Ln(r){if(!(r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.button)){var e=r.target;do if(e.localName==="a"&&e.getAttribute("href")){if(e.hasAttribute("data-native")||e.hasAttribute("native"))return;if(In(e))return Un(r)}while(e=e.parentNode)}}var rr=!1;function Jr(r){r.history&&(K=r.history),this.state={url:r.url||It()}}We(Jr.prototype=new Q,{shouldComponentUpdate:function(r){return r.static!==!0||r.url!==this.props.url||r.onChange!==this.props.onChange},canRoute:function(r){var e=ee(this.props.children);return this.g(e,r)!==void 0},routeTo:function(r){this.setState({url:r});var e=this.canRoute(r);return this.p||this.forceUpdate(),e},componentWillMount:function(){this.p=!0},componentDidMount:function(){var r=this;rr||(rr=!0,K||addEventListener("popstate",function(){qr(It())}),addEventListener("click",Ln)),we.push(this),K&&(this.u=K.listen(function(e){var t=e.location||e;r.routeTo(""+(t.pathname||"")+(t.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),we.splice(we.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(r,e){r=r.filter(Pn).sort(An);for(var t=0;t<r.length;t++){var n=r[t],s=Cn(e,n.props.path,n.props);if(s)return[n,s]}},render:function(r,e){var t,n,s=r.onChange,i=e.url,o=this.c,l=this.g(ee(r.children),i);if(l&&(n=Nr(l[0],We(We({url:i,matches:t=l[1]},t),{key:void 0,ref:void 0}))),i!==(o&&o.url)){We(zr,o=this.c={url:i,previous:o&&o.url,current:n,path:n?n.props.path:null,matches:t}),o.router=this,o.active=n?[n]:[];for(var c=tr.length;c--;)tr[c]({});typeof s=="function"&&s(o)}return ne(Dn.Provider,{value:o},n)}});const Nn="modulepreload",Mn=function(r){return"/"+r},nr={},st=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Mn(i),i in nr)return;nr[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let a=s.length-1;a>=0;a--){const d=s[a];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Nn,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((a,d)=>{u.addEventListener("load",a),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var Fn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Bn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Fn(void 0,void 0,void 0,function*(){return yield(yield st(()=>Promise.resolve().then(()=>ot),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class Ut extends Error{constructor(e,t="FunctionsError",n){super(e),super.name=t,this.context=n}}class Hn extends Ut{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zn extends Ut{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qn extends Ut{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class Wn{constructor(e,{headers:t={},customFetch:n}={}){this.url=e,this.headers=t,this.fetch=Bn(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Jn(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=t;let l={},c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(p=>{throw new Hn(p)}),a=u.headers.get("x-relay-error");if(a&&a==="true")throw new zn(u);if(!u.ok)throw new qn(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return d==="application/json"?_=yield u.json():d==="application/octet-stream"?_=yield u.blob():d==="multipart/form-data"?_=yield u.formData():_=yield u.text(),{data:_,error:null}}catch(s){return{data:null,error:s}}})}}var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kt={exports:{}};(function(r,e){var t=typeof self<"u"?self:Wr,n=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var l={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(h){return h&&DataView.prototype.isPrototypeOf(h)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(h){return h&&u.indexOf(Object.prototype.toString.call(h))>-1};function d(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function _(h){return typeof h!="string"&&(h=String(h)),h}function p(h){var f={next:function(){var m=h.shift();return{done:m===void 0,value:m}}};return l.iterable&&(f[Symbol.iterator]=function(){return f}),f}function v(h){this.map={},h instanceof v?h.forEach(function(f,m){this.append(m,f)},this):Array.isArray(h)?h.forEach(function(f){this.append(f[0],f[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(f){this.append(f,h[f])},this)}v.prototype.append=function(h,f){h=d(h),f=_(f);var m=this.map[h];this.map[h]=m?m+", "+f:f},v.prototype.delete=function(h){delete this.map[d(h)]},v.prototype.get=function(h){return h=d(h),this.has(h)?this.map[h]:null},v.prototype.has=function(h){return this.map.hasOwnProperty(d(h))},v.prototype.set=function(h,f){this.map[d(h)]=_(f)},v.prototype.forEach=function(h,f){for(var m in this.map)this.map.hasOwnProperty(m)&&h.call(f,this.map[m],m,this)},v.prototype.keys=function(){var h=[];return this.forEach(function(f,m){h.push(m)}),p(h)},v.prototype.values=function(){var h=[];return this.forEach(function(f){h.push(f)}),p(h)},v.prototype.entries=function(){var h=[];return this.forEach(function(f,m){h.push([m,f])}),p(h)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function g(h){return new Promise(function(f,m){h.onload=function(){f(h.result)},h.onerror=function(){m(h.error)}})}function O(h){var f=new FileReader,m=g(f);return f.readAsArrayBuffer(h),m}function j(h){var f=new FileReader,m=g(f);return f.readAsText(h),m}function F(h){for(var f=new Uint8Array(h),m=new Array(f.length),y=0;y<f.length;y++)m[y]=String.fromCharCode(f[y]);return m.join("")}function M(h){if(h.slice)return h.slice(0);var f=new Uint8Array(h.byteLength);return f.set(new Uint8Array(h)),f.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:l.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:l.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():l.arrayBuffer&&l.blob&&c(h)?(this._bodyArrayBuffer=M(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||a(h))?this._bodyArrayBuffer=M(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var h=w(this);if(h)return h;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(F(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var J=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function te(h){var f=h.toUpperCase();return J.indexOf(f)>-1?f:h}function U(h,f){f=f||{};var m=f.body;if(h instanceof U){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,f.headers||(this.headers=new v(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!m&&h._bodyInit!=null&&(m=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new v(f.headers)),this.method=te(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(m)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function L(h){var f=new FormData;return h.trim().split("&").forEach(function(m){if(m){var y=m.split("="),T=y.shift().replace(/\+/g," "),b=y.join("=").replace(/\+/g," ");f.append(decodeURIComponent(T),decodeURIComponent(b))}}),f}function P(h){var f=new v,m=h.replace(/\r?\n[\t ]+/g," ");return m.split(/\r?\n/).forEach(function(y){var T=y.split(":"),b=T.shift().trim();if(b){var x=T.join(":").trim();f.append(b,x)}}),f}B.call(U.prototype);function q(h,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new v(f.headers),this.url=f.url||"",this._initBody(h)}B.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},q.error=function(){var h=new q(null,{status:0,statusText:""});return h.type="error",h};var qe=[301,302,303,307,308];q.redirect=function(h,f){if(qe.indexOf(f)===-1)throw new RangeError("Invalid status code");return new q(null,{status:f,headers:{location:h}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(f,m){this.message=f,this.name=m;var y=Error(f);this.stack=y.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function S(h,f){return new Promise(function(m,y){var T=new U(h,f);if(T.signal&&T.signal.aborted)return y(new o.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function x(){b.abort()}b.onload=function(){var R={status:b.status,statusText:b.statusText,headers:P(b.getAllResponseHeaders()||"")};R.url="responseURL"in b?b.responseURL:R.headers.get("X-Request-URL");var D="response"in b?b.response:b.responseText;m(new q(D,R))},b.onerror=function(){y(new TypeError("Network request failed"))},b.ontimeout=function(){y(new TypeError("Network request failed"))},b.onabort=function(){y(new o.DOMException("Aborted","AbortError"))},b.open(T.method,T.url,!0),T.credentials==="include"?b.withCredentials=!0:T.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&l.blob&&(b.responseType="blob"),T.headers.forEach(function(R,D){b.setRequestHeader(D,R)}),T.signal&&(T.signal.addEventListener("abort",x),b.onreadystatechange=function(){b.readyState===4&&T.signal.removeEventListener("abort",x)}),b.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return S.polyfill=!0,i.fetch||(i.fetch=S,i.Headers=v,i.Request=U,i.Response=q),o.Headers=v,o.Request=U,o.Response=q,o.fetch=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,r.exports=e})(kt,kt.exports);var Lt=kt.exports;const Nt=Vr(Lt),ot=_n({__proto__:null,default:Nt},[Lt]);class Vn{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Nt:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,a=null,d=null,_=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const O=await i.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?a=O:a=JSON.parse(O))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&g&&g.length>1&&(d=parseInt(g[1]))}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(a=[],u=null,_=200,p="OK")}catch{i.status===404&&w===""?(_=204,p="No Content"):u={message:w}}if(u&&this.allowEmpty&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("Results contain 0 rows"))&&(u=null,_=200,p="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:a,count:d,status:_,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}}class Gn extends Vn{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ee extends Gn{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=t.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class Kn{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ee({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ee({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,a)=>u.concat(Object.keys(a)),[]);if(c.length>0){const u=[...new Set(c)].map(a=>`"${a}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ee({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Ee({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ee({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Yn="1.6.0",Zn={"X-Client-Info":`postgrest-js/${Yn}`};class Xn{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Zn),t),this.schema=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Kn(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let l;n?(i="HEAD",Object.entries(t).forEach(([u,a])=>{o.searchParams.append(u,`${a}`)})):(i="POST",l=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Ee({method:i,url:o,headers:c,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}}var ht,ir;function Qn(){if(ir)return ht;ir=1;var r=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return ht=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}(),ht}const ei="websocket",ti="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ri=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],ni="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ii=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],si="1.0.34",oi={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ai="https://github.com/theturtle32/WebSocket-Node",li={node:">=4.0.0"},ci={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ui={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},hi={verbose:!1},di={test:"tape test/unit/*.js",gulp:"gulp"},fi="index",_i={lib:"./lib"},pi="lib/browser.js",vi="Apache-2.0",yi={name:ei,description:ti,keywords:ri,author:ni,contributors:ii,version:si,repository:oi,homepage:ai,engines:li,dependencies:ci,devDependencies:ui,config:hi,scripts:di,main:fi,directories:_i,browser:pi,license:vi};var mi=yi.version,me;if(typeof globalThis=="object")me=globalThis;else try{me=Qn()}catch{}finally{if(!me&&typeof window<"u"&&(me=window),!me)throw new Error("Could not determine global this")}var Be=me.WebSocket||me.MozWebSocket,gi=mi;function Gr(r,e){var t;return e?t=new Be(r,e):t=new Be(r),t}Be&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(r){Object.defineProperty(Gr,r,{get:function(){return Be[r]}})});var bi={w3cwebsocket:Be?Gr:null,version:gi};const wi="2.7.2",$i={"X-Client-Info":`realtime-js/${wi}`},Ti="1.0.0",Kr=1e4,ki=1e3;var Ne;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ne||(Ne={}));var G;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(G||(G={}));var X;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(X||(X={}));var Ot;(function(r){r.websocket="websocket"})(Ot||(Ot={}));var ge;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ge||(ge={}));class Yr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Oi{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class dt{constructor(e,t,n={},s=Kr){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sr;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(sr||(sr={}));class Me{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Me.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Me.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Me.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(i,(u,a)=>{o[u]||(c[u]=a)}),this.map(o,(u,a)=>{const d=i[u];if(d){const _=a.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),v=a.filter(g=>p.indexOf(g.presence_ref)<0),w=d.filter(g=>_.indexOf(g.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=a}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const a=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),a.length>0){const d=e[l].map(p=>p.presence_ref),_=a.filter(p=>d.indexOf(p.presence_ref)<0);e[l].unshift(..._)}n(l,a,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const a=c.map(d=>d.presence_ref);u=u.filter(d=>a.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(I||(I={}));const or=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Si(o,r,e,s),i),{})},Si=(r,e,t,n)=>{const s=e.find(l=>l.name===r),i=s==null?void 0:s.type,o=t[r];return i&&!n.includes(i)?Zr(i,o):St(o)},Zr=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Ai(e,t)}switch(r){case I.bool:return Ei(e);case I.float4:case I.float8:case I.int2:case I.int4:case I.int8:case I.numeric:case I.oid:return xi(e);case I.json:case I.jsonb:return Ci(e);case I.timestamp:return Pi(e);case I.abstime:case I.date:case I.daterange:case I.int4range:case I.int8range:case I.money:case I.reltime:case I.text:case I.time:case I.timestamptz:case I.timetz:case I.tsrange:case I.tstzrange:return St(e);default:return St(e)}},St=r=>r,Ei=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},xi=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Ci=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Ai=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Zr(e,l))}return r},Pi=r=>typeof r=="string"?r.replace(" ","T"):r;var ar=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},lr;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(lr||(lr={}));var cr;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes"})(cr||(cr={}));var ur;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Mt{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=G.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new dt(this,X.join,this.params,this.timeout),this.rejoinTimer=new Yr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=G.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=G.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=G.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=G.errored,this.rejoinTimer.scheduleTimeout())}),this._on(X.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Me(this)}subscribe(e,t=this.timeout){var n,s;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var a;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,_=(a=d==null?void 0:d.length)!==null&&a!==void 0?a:0,p=[];for(let v=0;v<_;v++){const w=d[v],{filter:{event:g,schema:O,table:j,filter:F}}=w,M=u&&u[v];if(M&&M.event===g&&M.schema===O&&M.table===j&&M.filter===F)p.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return ar(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return ar(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,n){return this._on(e,t,n)}send(e,t={}){return new Promise(n=>{var s,i,o;const l=this._push(e.type,e,t.timeout||this.timeout);l.rateLimited&&n("rate limited"),e.type==="broadcast"&&!(!((o=(i=(s=this.params)===null||s===void 0?void 0:s.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.ack)&&n("ok"),l.receive("ok",()=>n("ok")),l.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=G.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(X.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new dt(this,X.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dt(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:a}=X;if(n&&[l,c,u,a].indexOf(o)>=0&&n!==this._joinRef())return;let _=this._onMessage(o,t,n);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(w=p.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(_,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,g,O,j,F;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const M=p.id,B=(v=p.filter)===null||v===void 0?void 0:v.event;return M&&((w=t.ids)===null||w===void 0?void 0:w.includes(M))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const M=(j=(O=p==null?void 0:p.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return M==="*"||M===((F=t==null?void 0:t.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof _=="object"&&"ids"in _){const v=_.data,{schema:w,table:g,commit_timestamp:O,type:j,errors:F}=v;_=Object.assign(Object.assign({},{schema:w,table:g,commit_timestamp:O,eventType:j,new:{},old:{},errors:F}),this._getPayloadRecords(v))}p.callback(_,n)})}_isClosed(){return this.state===G.closed}_isJoined(){return this.state===G.joined}_isJoining(){return this.state===G.joining}_isLeaving(){return this.state===G.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Mt.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(X.close,{},e)}_onError(e){this._on(X.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=G.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=or(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=or(e.columns,e.old_record)),t}}var ft=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const ji=()=>{};class Ri{constructor(e,t){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=$i,this.params={},this.timeout=Kr,this.transport=bi.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ji,this.conn=null,this.sendBuffer=[],this.serializer=new Oi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Ot.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yr(()=>ft(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return ft(this,void 0,void 0,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return ft(this,void 0,void 0,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e})}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ne.connecting:return ge.Connecting;case Ne.open:return ge.Open;case Ne.closing:return ge.Closing;default:return ge.Closed}}isConnected(){return this.connectionState()===ge.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const n=new Mt(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:s,ref:i}=e;let o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};if(this.log("push",`${t} ${n} (${i})`,s),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(X.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ti}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:o}=t;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(X.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ki,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class Ft extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function z(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Di extends Ft{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hr extends Ft{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Xr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Qr=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Xr(void 0,void 0,void 0,function*(){return yield(yield st(()=>Promise.resolve().then(()=>ot),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Ii=()=>Xr(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield st(()=>Promise.resolve().then(()=>ot),void 0)).Response:Response});var Pe=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const _t=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ui=(r,e)=>Pe(void 0,void 0,void 0,function*(){const t=yield Ii();r instanceof t?r.json().then(n=>{e(new Di(_t(n),r.status||500))}).catch(n=>{e(new hr(_t(n),n))}):e(new hr(_t(r),r))}),Li=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};function at(r,e,t,n,s,i){return Pe(this,void 0,void 0,function*(){return new Promise((o,l)=>{r(t,Li(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Ui(c,l))})})}function Et(r,e,t,n){return Pe(this,void 0,void 0,function*(){return at(r,"GET",e,t,n)})}function fe(r,e,t,n,s){return Pe(this,void 0,void 0,function*(){return at(r,"POST",e,n,s,t)})}function Ni(r,e,t,n,s){return Pe(this,void 0,void 0,function*(){return at(r,"PUT",e,n,s,t)})}function en(r,e,t,n,s){return Pe(this,void 0,void 0,function*(){return at(r,"DELETE",e,n,s,t)})}var Y=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Mi={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fi{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Qr(s)}uploadOrUpdate(e,t,n,s){return Y(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},dr),s),l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),a=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return a.ok?{data:{path:c},error:null}:{data:null,error:yield a.json()}}catch(i){if(z(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return Y(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:dr.upsert},s),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,a["cache-control"]=`max-age=${u.cacheControl}`,a["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:a});return d.ok?{data:{path:i},error:null}:{data:null,error:yield d.json()}}catch(c){if(z(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return Y(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const n=yield fe(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),s=new URL(this.url+n.url),i=s.searchParams.get("token");if(!i)throw new Ft("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(t){if(z(t))return{data:null,error:t};throw t}})}update(e,t,n){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t){return Y(this,void 0,void 0,function*(){try{return{data:yield fe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}})}copy(e,t){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield fe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,n){return Y(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield fe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return Y(this,void 0,void 0,function*(){try{const s=yield fe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}})}download(e,t){return Y(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Et(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(z(l))return{data:null,error:l};throw l}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Y(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(z(t))return{data:null,error:t};throw t}})}list(e,t,n){return Y(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Mi),t),{prefix:e||""});return{data:yield fe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Bi="2.5.1",Hi={"X-Client-Info":`storage-js/${Bi}`};var Se=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class zi{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Hi),t),this.fetch=Qr(n)}listBuckets(){return Se(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(z(e))return{data:null,error:e};throw e}})}getBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(z(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Se(this,void 0,void 0,function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Se(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield fe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(z(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Se(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(z(t))return{data:null,error:t};throw t}})}}class qi extends zi{constructor(e,t={},n){super(e,t,n)}from(e){return new Fi(this.url,this.headers,e,this.fetch)}}const Ji="2.21.0",Wi={"X-Client-Info":`supabase-js/${Ji}`};var Vi=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Gi=r=>{let e;return r?e=r:typeof fetch>"u"?e=Nt:e=fetch,(...t)=>e(...t)},Ki=()=>typeof Headers>"u"?Lt.Headers:Headers,Yi=(r,e,t)=>{const n=Gi(t),s=Ki();return(i,o)=>Vi(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function Zi(r){return r.replace(/\/$/,"")}function Xi(r,e){const{db:t,auth:n,realtime:s,global:i}=r,{db:o,auth:l,realtime:c,global:u}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i)}}var ke=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};function Qi(r){return Math.round(Date.now()/1e3)+r}function es(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const de=()=>typeof document<"u",ve={tested:!1,writable:!1},pt=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ve.tested)return ve.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ve.tested=!0,ve.writable=!0}catch{ve.tested=!0,ve.writable=!1}return ve.writable};function V(r,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),r=r.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+r+"(=([^&#]*)|&|#|$)"),s=n.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const tn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ke(void 0,void 0,void 0,function*(){return yield(yield st(()=>Promise.resolve().then(()=>ot),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},ts=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",De=(r,e,t)=>ke(void 0,void 0,void 0,function*(){yield r.setItem(e,JSON.stringify(t))}),Ve=(r,e)=>ke(void 0,void 0,void 0,function*(){const t=yield r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),vt=(r,e)=>ke(void 0,void 0,void 0,function*(){yield r.removeItem(e)});function rs(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",n,s,i,o,l,c,u,a=0;for(r=r.replace("-","+").replace("_","/");a<r.length;)o=e.indexOf(r.charAt(a++)),l=e.indexOf(r.charAt(a++)),c=e.indexOf(r.charAt(a++)),u=e.indexOf(r.charAt(a++)),n=o<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,t=t+String.fromCharCode(n),c!=64&&s!=0&&(t=t+String.fromCharCode(s)),u!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class lt{constructor(){this.promise=new lt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}lt.promiseConstructor=Promise;function fr(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(rs(n))}function ns(r){return new Promise(e=>{setTimeout(()=>e(null),r)})}function is(r,e){return new Promise((n,s)=>{ke(this,void 0,void 0,function*(){for(let i=0;i<1/0;i++)try{const o=yield r(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})})}function ss(r){return("0"+r.toString(16)).substr(-2)}function Ge(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ss).join("")}function os(r){return ke(this,void 0,void 0,function*(){const t=new TextEncoder().encode(r),n=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")})}function as(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ke(r){return ke(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=yield os(r);return as(e)})}class Bt extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function C(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ls extends Bt{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function cs(r){return C(r)&&r.name==="AuthApiError"}class rn extends Bt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ze extends Bt{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ie extends ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ye extends ze{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class se extends ze{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yt extends ze{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xt extends ze{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var Ht=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},us=globalThis&&globalThis.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Ze=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),hs=(r,e)=>Ht(void 0,void 0,void 0,function*(){const t=[502,503,504];ts(r)?t.includes(r.status)?e(new xt(Ze(r),r.status)):r.json().then(n=>{e(new ls(Ze(n),r.status||500))}).catch(n=>{e(new rn(Ze(n),n))}):e(new xt(Ze(r),0))}),ds=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};function A(r,e,t,n){var s;return Ht(this,void 0,void 0,function*(){const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield fs(r,e,t+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}})}function fs(r,e,t,n,s,i){return Ht(this,void 0,void 0,function*(){return new Promise((o,l)=>{r(t,ds(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>hs(c,l))})})}function he(r){var e;let t=null;ys(r)&&(t=Object.assign({},r),t.expires_at=Qi(r.expires_in));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function be(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function _s(r){return{data:r,error:null}}function ps(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,o=us(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function vs(r){return r}function ys(r){return r.access_token&&r.refresh_token&&r.expires_in}var re=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})},ms=globalThis&&globalThis.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class gs{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=tn(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:be})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return re(this,void 0,void 0,function*(){try{const{options:t}=e,n=ms(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),yield A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ps,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(C(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:be})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}})}listUsers(e){var t,n,s,i,o,l,c;return re(this,void 0,void 0,function*(){try{const u={nextPage:null,lastPage:0,total:0},a=yield A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vs});if(a.error)throw a.error;const d=yield a.json(),_=(o=a.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=a.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(_)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(C(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:be})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:be})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,t=!1){return re(this,void 0,void 0,function*(){try{return yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:be})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return re(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(C(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return re(this,void 0,void 0,function*(){try{return{data:yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}})}}const bs="2.25.0",ws="http://localhost:9999",$s="supabase.auth.token",Ts={"X-Client-Info":`gotrue-js/${bs}`},ks=10,Os={getItem:r=>pt()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{pt()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{pt()&&globalThis.localStorage.removeItem(r)}};function Ss(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var E=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};Ss();const Es={url:ws,storageKey:$s,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ts,flowType:"implicit"},mt=30*1e3,xs=3;class Cs{constructor(e){var t;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const n=Object.assign(Object.assign({},Es),e);if(this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||Os,this.admin=new gs({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tn(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",s=>{this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return E(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const e=yield this._isPKCEFlow();if(this.detectSessionInUrl&&this._isImplicitGrantFlow()||e){const{data:t,error:n}=yield this._getSessionFromUrl(e);if(n)return yield this._removeSession(),{error:n};const{session:s,redirectType:i}=t;return yield this._saveSession(s),setTimeout(()=>{i==="recovery"?this._notifyAllSubscribers("PASSWORD_RECOVERY",s):this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return C(e)?{error:e}:{error:new rn("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var t,n,s;return E(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:a,password:d,options:_}=e;let p=null,v=null;if(this.flowType==="pkce"){const w=Ge();yield De(this.storage,`${this.storageKey}-code-verifier`,w),p=yield Ke(w),v=w===p?"plain":"s256"}i=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:a,password:d,data:(t=_==null?void 0:_.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:p,code_challenge_method:v},xform:he})}else if("phone"in e){const{phone:a,password:d,options:_}=e;i=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:a,password:d,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:he})}else throw new Ye("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){return E(this,void 0,void 0,function*(){try{yield this._removeSession();let t;if("email"in e){const{email:i,password:o,options:l}=e;t=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:he})}else if("phone"in e){const{phone:i,password:o,options:l}=e;t=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:he})}else throw new Ye("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s||!n?{data:{user:null,session:null},error:s}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){var t,n,s,i;return E(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return E(this,void 0,void 0,function*(){const t=yield Ve(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:s}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:he});return yield vt(this.storage,`${this.storageKey}-code-verifier`),s||!n?{data:{user:null,session:null},error:s}:(n.session&&(yield this._saveSession(n.session),this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:s})})}signInWithIdToken(e){return E(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:t,provider:n,token:s,nonce:i}=e,o=yield A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:he}),{data:l,error:c}=o;return c||!l?{data:{user:null,session:null},error:c}:(l.session&&(yield this._saveSession(l.session),this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){var t,n,s,i,o;return E(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:l,options:c}=e;let u=null,a=null;if(this.flowType==="pkce"){const _=Ge();yield De(this.storage,`${this.storageKey}-code-verifier`,_),u=yield Ke(_),a=_===u?"plain":"s256"}const{error:d}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:a},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{error:u}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null},error:u}}throw new Ye("You must provide either an email or phone number.")}catch(l){if(C(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){var t,n;return E(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:s,error:i}=yield A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,xform:he});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){var t,n,s;return E(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:_s})}catch(i){if(C(i))return{data:null,error:i};throw i}})}resend(e){return E(this,void 0,void 0,function*(){try{yield this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=yield A(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{error:o}=yield A(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new Ye("You must provide either an email or phone number and a type")}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return E(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const i=yield Ve(this.storage,this.storageKey);i!==null&&(this._isValidSession(i)?e=i:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}})}getUser(e){var t,n;return E(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:i}=yield this.getSession();if(i)throw i;e=(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:void 0}return yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:be})}catch(s){if(C(s))return{data:{user:null},error:s};throw s}})}updateUser(e,t={}){return E(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)throw s;if(!n.session)throw new Ie;const i=n.session,{data:o,error:l}=yield A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:e,jwt:i.access_token,xform:be});if(l)throw l;return i.user=o.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(e){return fr(e)}setSession(e){return E(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new Ie;const t=Date.now()/1e3;let n=t,s=!0,i=null;const o=fr(e.access_token);if(o.exp&&(n=o.exp,s=n<=t),s){const{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=yield this.getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(C(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return E(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:o}=yield this.getSession();if(o)throw o;e=(t=i.session)!==null&&t!==void 0?t:void 0}if(!(e!=null&&e.refresh_token))throw new Ie;const{session:n,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}catch(n){if(C(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromUrl(e){return E(this,void 0,void 0,function*(){try{if(!de())throw new se("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new se("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new yt("Not a valid PKCE flow url.");if(e){const g=V("code");if(!g)throw new yt("No code detected.");const{data:O,error:j}=yield this.exchangeCodeForSession(g);if(j)throw j;if(!O.session)throw new yt("No session detected.");return{data:{session:O.session,redirectType:null},error:null}}const t=V("error_description");if(t){const g=V("error_code");if(!g)throw new se("No error_code detected.");const O=V("error");throw O?new se(t,{error:O,code:g}):new se("No error detected.")}const n=V("provider_token"),s=V("provider_refresh_token"),i=V("access_token");if(!i)throw new se("No access_token detected.");const o=V("expires_in");if(!o)throw new se("No expires_in detected.");const l=V("refresh_token");if(!l)throw new se("No refresh_token detected.");const c=V("token_type");if(!c)throw new se("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(o),{data:d,error:_}=yield this.getUser(i);if(_)throw _;const p=d.user,v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:parseInt(o),expires_at:a,refresh_token:l,token_type:c,user:p},w=V("type");return window.location.hash="",{data:{session:v,redirectType:w},error:null}}catch(t){if(C(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return de()&&(!!V("access_token")||!!V("error_description"))}_isPKCEFlow(){return E(this,void 0,void 0,function*(){const e=yield Ve(this.storage,`${this.storageKey}-code-verifier`);return de()&&!!V("code")&&!!e})}signOut(){var e;return E(this,void 0,void 0,function*(){const{data:t,error:n}=yield this.getSession();if(n)return{error:n};const s=(e=t.session)===null||e===void 0?void 0:e.access_token;if(s){const{error:i}=yield this.admin.signOut(s);if(i&&!(cs(i)&&(i.status===404||i.status===401)))return{error:i}}return yield this._removeSession(),yield vt(this.storage,`${this.storageKey}-code-verifier`),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=es(),n={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),this.emitInitialSession(t),{data:{subscription:n}}}emitInitialSession(e){var t,n;return E(this,void 0,void 0,function*(){try{const{data:{session:s},error:i}=yield this.getSession();if(i)throw i;(t=this.stateChangeEmitters.get(e))===null||t===void 0||t.callback("INITIAL_SESSION",s)}catch(s){(n=this.stateChangeEmitters.get(e))===null||n===void 0||n.callback("INITIAL_SESSION",null),console.error(s)}})}resetPasswordForEmail(e,t={}){return E(this,void 0,void 0,function*(){let n=null,s=null;if(this.flowType==="pkce"){const i=Ge();yield De(this.storage,`${this.storageKey}-code-verifier`,i),n=yield Ke(i),s=i===n?"plain":"s256"}try{return yield A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(C(i))return{data:null,error:i};throw i}})}_refreshAccessToken(e){return E(this,void 0,void 0,function*(){try{const t=Date.now();return yield is(n=>E(this,void 0,void 0,function*(){return yield ns(n*200),yield A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:he})}),(n,s,i)=>i&&i.error&&i.error instanceof xt&&Date.now()+(n+1)*200-t<mt)}catch(t){if(C(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return E(this,void 0,void 0,function*(){const n=yield this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return de()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){var e;return E(this,void 0,void 0,function*(){try{const t=yield Ve(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<n+ks)if(this.autoRefreshToken&&t.refresh_token){const{error:s}=yield this._callRefreshToken(t.refresh_token);s&&(console.log(s.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,n;return E(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new lt,!e)throw new Ie;const{data:s,error:i}=yield this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new Ie;yield this._saveSession(s.session),this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(C(s)){const i={session:null,error:s};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t,n=!0){this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach(s=>s.callback(e,t))}_saveSession(e){return E(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return De(this.storage,this.storageKey,e)}_removeSession(){return E(this,void 0,void 0,function*(){this.persistSession?yield vt(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&de()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return E(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const e=setInterval(()=>this._autoRefreshTokenTick(),mt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return E(this,void 0,void 0,function*(){const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return E(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return E(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return E(this,void 0,void 0,function*(){const e=Date.now();try{const{data:{session:t}}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;Math.floor((t.expires_at*1e3-e)/mt)<xs&&(yield this._callRefreshToken(t.refresh_token))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}})}_handleVisibilityChange(){return E(this,void 0,void 0,function*(){if(!de()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>E(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return E(this,void 0,void 0,function*(){document.visibilityState==="visible"?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t){return E(this,void 0,void 0,function*(){const n=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const s=Ge();yield De(this.storage,`${this.storageKey}-code-verifier`,s);const i=yield Ke(s),o=s===i?"plain":"s256",l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(t!=null&&t.queryParams){const s=new URLSearchParams(t.queryParams);n.push(s.toString())}return`${this.url}/authorize?${n.join("&")}`})}_unenroll(e){var t;return E(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();return s?{data:null,error:s}:yield A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_enroll(e){var t,n;return E(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:o,error:l}=yield A(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=s==null?void 0:s.session)===null||t===void 0?void 0:t.access_token});return l?{data:null,error:l}:(!((n=o==null?void 0:o.totp)===null||n===void 0)&&n.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(s){if(C(s))return{data:null,error:s};throw s}})}_verify(e){var t;return E(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:i,error:o}=yield A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_challenge(e){var t;return E(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();return s?{data:null,error:s}:yield A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_challengeAndVerify(e){return E(this,void 0,void 0,function*(){const{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return E(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return E(this,void 0,void 0,function*(){const{data:{session:n},error:s}=yield this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(a=>a.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}})}}class As extends Cs{constructor(e){super(e)}}var Ps=globalThis&&globalThis.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(a){try{u(n.next(a))}catch(d){o(d)}}function c(a){try{u(n.throw(a))}catch(d){o(d)}}function u(a){a.done?i(a.value):s(a.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const js={headers:Wi},Rs={schema:"public"},Ds={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Is={};class Us{constructor(e,t,n){var s,i,o,l,c,u,a,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const _=Zi(e);if(this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,_.match(/(supabase\.co)|(supabase\.in)/)){const O=_.split(".");this.functionsUrl=`${O[0]}.functions.${O[1]}.${O[2]}`}else this.functionsUrl=`${_}/functions/v1`;const v=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:Rs,realtime:Is,auth:Object.assign(Object.assign({},Ds),{storageKey:v}),global:js},g=Xi(n??{},w);this.storageKey=(i=(s=g.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=g.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=Yi(t,this._getAccessToken.bind(this),(a=g.global)===null||a===void 0?void 0:a.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Xn(`${_}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Wn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qi(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},n){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ps(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new As({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:o,fetch:c})}_initRealtimeClient(e){return new Ri(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,n==null?void 0:n.access_token,"CLIENT")})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ls=(r,e,t)=>new Us(r,e,t),Ns="https://krfywkphtcveaxcondyi.supabase.co",Ms="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZnl3a3BodGN2ZWF4Y29uZHlpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODM3MjE2NDYsImV4cCI6MTk5OTI5NzY0Nn0.Mm-bOdCsXFsVVcMZEdtD9MCq-cFf-K57FUv-14mFFG4",le=Ls(Ns,Ms);var Fs=0;function k(r,e,t,n,s,i){var o,l,c={};for(l in e)l=="ref"?o=e[l]:c[l]=e[l];var u={type:r,props:c,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Fs,__source:s,__self:i};if(typeof r=="function"&&(o=r.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return $.vnode&&$.vnode(u),u}function Bs(){const[r,e]=_e({});async function t(){const{data:{user:n}}=await le.auth.getUser();n?(e(n),console.log(n)):ae("/auth")}return jt(()=>{t(),console.log(r)},[]),k(Z,{children:k("div",{class:"text-center inline-flex items-center flex-col gap-3",children:[k("div",{children:k("h1",{class:"text-white text-3xl font-bold",children:"Add Available Times"})}),k("div",{class:"text-center inline-flex items-center",children:[k("button",{onClick:()=>{ae("/date")},type:"button",class:"bg-green-500",children:"Non Repeating"}),k("button",{onClick:()=>{ae("/time")},type:"button",class:"bg-teal-400",children:"Repeating"})]}),k("div",{class:"text-center inline-flex items-center",children:k("button",{onClick:()=>{ae("/edit-time")},type:"button",class:"bg-teal-400",children:"Edit Repeating"})})]})})}function nn(r,e){for(var t in e)r[t]=e[t];return r}function Ct(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function gt(r,e){return r===e&&(r!==0||1/r==1/e)||r!=r&&e!=e}function At(r){this.props=r}function Hs(r,e){function t(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:Ct(this.props,s)}function n(s){return this.shouldComponentUpdate=t,ne(r,s)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(At.prototype=new Q).isPureReactComponent=!0,At.prototype.shouldComponentUpdate=function(r,e){return Ct(this.props,r)||Ct(this.state,e)};var _r=$.__b;$.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),_r&&_r(r)};var zs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function qs(r){function e(t){var n=nn({},t);return delete n.ref,r(n,t.ref||null)}return e.$$typeof=zs,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(r.displayName||r.name)+")",e}var pr=function(r,e){return r==null?null:ee(ee(r).map(e))},Js={map:pr,forEach:pr,count:function(r){return r?ee(r).length:0},only:function(r){var e=ee(r);if(e.length!==1)throw"Children.only";return e[0]},toArray:ee},Ws=$.__e;$.__e=function(r,e,t,n){if(r.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(r,e)}Ws(r,e,t,n)};var vr=$.unmount;function sn(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=nn({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return sn(n,e,t)})),r}function on(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return on(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function et(){this.__u=0,this.t=null,this.__b=null}function an(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function Vs(r){var e,t,n;function s(i){if(e||(e=r()).then(function(o){t=o.default||o},function(o){n=o}),n)throw n;if(!t)throw e;return ne(t,i)}return s.displayName="Lazy",s.__f=!0,s}function Ue(){this.u=null,this.o=null}$.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),vr&&vr(r)},(et.prototype=new Q).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var s=an(n.__v),i=!1,o=function(){i||(i=!0,t.__R=null,s?s(l):l())};t.__R=o;var l=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=on(u,u.__c.__P,u.__c.__O)}var a;for(n.setState({__a:n.__b=null});a=n.t.pop();)a.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(o,o)},et.prototype.componentWillUnmount=function(){this.t=[]},et.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=sn(this.__b,t,n.__O=n.__P)}this.__b=null}var s=e.__a&&ne(Z,null,r.fallback);return s&&(s.__h=null),[ne(Z,null,e.__a?null:r.children),s]};var yr=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function Gs(r){return this.getChildContext=function(){return r.context},r.children}function Ks(r){var e=this,t=r.i;e.componentWillUnmount=function(){xe(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),xe(ne(Gs,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function Ys(r,e){var t=ne(Ks,{__v:r,i:e});return t.containerInfo=e,t}(Ue.prototype=new Q).__a=function(r){var e=this,t=an(e.__v),n=e.o.get(r);return n[0]++,function(s){var i=function(){e.props.revealOrder?(n.push(s),yr(e,r,n)):s()};t?t(i):i()}},Ue.prototype.render=function(r){this.u=null,this.o=new Map;var e=ee(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},Ue.prototype.componentDidUpdate=Ue.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){yr(r,t,e)})};var ln=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Zs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Xs=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Qs=/[A-Z0-9]/g,eo=typeof document<"u",to=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};function ro(r,e,t){return e.__k==null&&(e.textContent=""),xe(r,e),typeof t=="function"&&t(),r?r.__c:null}function no(r,e,t){return Lr(r,e),typeof t=="function"&&t(),r?r.__c:null}Q.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Q.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var mr=$.event;function io(){}function so(){return this.cancelBubble}function oo(){return this.defaultPrevented}$.event=function(r){return mr&&(r=mr(r)),r.persist=io,r.isPropagationStopped=so,r.isDefaultPrevented=oo,r.nativeEvent=r};var zt,ao={enumerable:!1,configurable:!0,get:function(){return this.class}},gr=$.vnode;$.vnode=function(r){typeof r.type=="string"&&function(e){var t=e.props,n=e.type,s={};for(var i in t){var o=t[i];if(!(i==="value"&&"defaultValue"in t&&o==null||eo&&i==="children"&&n==="noscript"||i==="class"||i==="className")){var l=i.toLowerCase();i==="defaultValue"&&"value"in t&&t.value==null?i="value":i==="download"&&o===!0?o="":l==="ondoubleclick"?i="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||to(t.type)?l==="onfocus"?i="onfocusin":l==="onblur"?i="onfocusout":Xs.test(i)?i=l:n.indexOf("-")===-1&&Zs.test(i)?i=i.replace(Qs,"-$&").toLowerCase():o===null&&(o=void 0):l=i="oninput",l==="oninput"&&s[i=l]&&(i="oninputCapture"),s[i]=o}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ee(t.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=ee(t.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),t.class&&!t.className?(s.class=t.class,Object.defineProperty(s,"className",ao)):(t.className&&!t.class||t.class&&t.className)&&(s.class=s.className=t.className),e.props=s}(r),r.$$typeof=ln,gr&&gr(r)};var br=$.__r;$.__r=function(r){br&&br(r),zt=r.__c};var wr=$.diffed;$.diffed=function(r){wr&&wr(r);var e=r.props,t=r.__e;t!=null&&r.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),zt=null};var lo={ReactCurrentDispatcher:{current:{readContext:function(r){return zt.__n[r.__c].props.value}}}};function co(r){return ne.bind(null,r)}function cn(r){return!!r&&r.$$typeof===ln}function uo(r){return cn(r)?Nr.apply(null,arguments):r}function ho(r){return!!r.__k&&(xe(null,r),!0)}function fo(r){return r&&(r.base||r.nodeType===1&&r)||null}var _o=function(r,e){return r(e)},po=function(r,e){return r(e)},vo=Z;function un(r){r()}function yo(r){return r}function mo(){return[!1,un]}var go=it;function bo(r,e){var t=e(),n=_e({h:{__:t,v:e}}),s=n[0].h,i=n[1];return it(function(){s.__=t,s.v=e,gt(s.__,e())||i({h:s})},[r,t,e]),jt(function(){return gt(s.__,s.v())||i({h:s}),r(function(){gt(s.__,s.v())||i({h:s})})},[r]),t}var $e={useState:_e,useId:On,useReducer:Br,useEffect:jt,useLayoutEffect:it,useInsertionEffect:go,useTransition:mo,useDeferredValue:yo,useSyncExternalStore:bo,startTransition:un,useRef:bn,useImperativeHandle:wn,useMemo:Rt,useCallback:$n,useContext:Tn,useDebugValue:kn,version:"17.0.2",Children:Js,render:ro,hydrate:no,unmountComponentAtNode:ho,createPortal:Ys,createElement:ne,createContext:Mr,createFactory:co,cloneElement:uo,createRef:vn,Fragment:Z,isValidElement:cn,findDOMNode:fo,Component:Q,PureComponent:At,memo:Hs,forwardRef:qs,flushSync:po,unstable_batchedUpdates:_o,StrictMode:vo,Suspense:et,SuspenseList:Ue,lazy:Vs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:lo},hn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$r=$e.createContext&&$e.createContext(hn),pe=globalThis&&globalThis.__assign||function(){return pe=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},pe.apply(this,arguments)},wo=globalThis&&globalThis.__rest||function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};function dn(r){return r&&r.map(function(e,t){return $e.createElement(e.tag,pe({key:t},e.attr),dn(e.child))})}function $o(r){return function(e){return $e.createElement(To,pe({attr:pe({},r.attr)},e),dn(r.child))}}function To(r){var e=function(t){var n=r.attr,s=r.size,i=r.title,o=wo(r,["attr","size","title"]),l=s||t.size||"1em",c;return t.className&&(c=t.className),r.className&&(c=(c?c+" ":"")+r.className),$e.createElement("svg",pe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:c,style:pe(pe({color:r.color||t.color},t.style),r.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&$e.createElement("title",null,i),r.children)};return $r!==void 0?$e.createElement($r.Consumer,null,function(t){return e(t)}):e(hn)}function ko(r){return $o({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(r)}function Oo(){async function r(){let{data:t,error:n}=await le.auth.signInWithOAuth({provider:"discord"});console.log(t),console.error(n)}async function e(){let{error:t}=await le.auth.signOut();console.error(t)}return k(Z,{children:k("div",{class:"text-center inline-flex items-center",children:[k("button",{onClick:r,type:"button",class:"bg-[#5865F2]",children:[k(ko,{class:"w-5 h-5 mr-2 -ml-1"}),"Sign in with Discord"]}),k("button",{onClick:e,type:"button",class:"bg-red-600",children:"Logout"})]})})}var fn={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(Wr,function(){var t=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",a="week",d="month",_="quarter",p="year",v="date",w="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var h=["th","st","nd","rd"],f=S%100;return"["+S+(h[(f-20)%10]||h[f]||h[0])+"]"}},F=function(S,h,f){var m=String(S);return!m||m.length>=h?S:""+Array(h+1-m.length).join(f)+S},M={s:F,z:function(S){var h=-S.utcOffset(),f=Math.abs(h),m=Math.floor(f/60),y=f%60;return(h<=0?"+":"-")+F(m,2,"0")+":"+F(y,2,"0")},m:function S(h,f){if(h.date()<f.date())return-S(f,h);var m=12*(f.year()-h.year())+(f.month()-h.month()),y=h.clone().add(m,d),T=f-y<0,b=h.clone().add(m+(T?-1:1),d);return+(-(m+(f-y)/(T?y-b:b-y))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:p,w:a,d:u,D:v,h:c,m:l,s:o,ms:i,Q:_}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},B="en",J={};J[B]=j;var te=function(S){return S instanceof q},U=function S(h,f,m){var y;if(!h)return B;if(typeof h=="string"){var T=h.toLowerCase();J[T]&&(y=T),f&&(J[T]=f,y=T);var b=h.split("-");if(!y&&b.length>1)return S(b[0])}else{var x=h.name;J[x]=h,y=x}return!m&&y&&(B=y),y||!m&&B},L=function(S,h){if(te(S))return S.clone();var f=typeof h=="object"?h:{};return f.date=S,f.args=arguments,new q(f)},P=M;P.l=U,P.i=te,P.w=function(S,h){return L(S,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var q=function(){function S(f){this.$L=U(f.locale,null,!0),this.parse(f)}var h=S.prototype;return h.parse=function(f){this.$d=function(m){var y=m.date,T=m.utc;if(y===null)return new Date(NaN);if(P.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var b=y.match(g);if(b){var x=b[2]-1||0,R=(b[7]||"0").substring(0,3);return T?new Date(Date.UTC(b[1],x,b[3]||1,b[4]||0,b[5]||0,b[6]||0,R)):new Date(b[1],x,b[3]||1,b[4]||0,b[5]||0,b[6]||0,R)}}return new Date(y)}(f),this.$x=f.x||{},this.init()},h.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},h.$utils=function(){return P},h.isValid=function(){return this.$d.toString()!==w},h.isSame=function(f,m){var y=L(f);return this.startOf(m)<=y&&y<=this.endOf(m)},h.isAfter=function(f,m){return L(f)<this.startOf(m)},h.isBefore=function(f,m){return this.endOf(m)<L(f)},h.$g=function(f,m,y){return P.u(f)?this[m]:this.set(y,f)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(f,m){var y=this,T=!!P.u(m)||m,b=P.p(f),x=function(Oe,W){var ue=P.w(y.$u?Date.UTC(y.$y,W,Oe):new Date(y.$y,W,Oe),y);return T?ue:ue.endOf(u)},R=function(Oe,W){return P.w(y.toDate()[Oe].apply(y.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(W)),y)},D=this.$W,H=this.$M,ce=this.$D,ie="set"+(this.$u?"UTC":"");switch(b){case p:return T?x(1,0):x(31,11);case d:return T?x(1,H):x(0,H+1);case a:var je=this.$locale().weekStart||0,Re=(D<je?D+7:D)-je;return x(T?ce-Re:ce+(6-Re),H);case u:case v:return R(ie+"Hours",0);case c:return R(ie+"Minutes",1);case l:return R(ie+"Seconds",2);case o:return R(ie+"Milliseconds",3);default:return this.clone()}},h.endOf=function(f){return this.startOf(f,!1)},h.$set=function(f,m){var y,T=P.p(f),b="set"+(this.$u?"UTC":""),x=(y={},y[u]=b+"Date",y[v]=b+"Date",y[d]=b+"Month",y[p]=b+"FullYear",y[c]=b+"Hours",y[l]=b+"Minutes",y[o]=b+"Seconds",y[i]=b+"Milliseconds",y)[T],R=T===u?this.$D+(m-this.$W):m;if(T===d||T===p){var D=this.clone().set(v,1);D.$d[x](R),D.init(),this.$d=D.set(v,Math.min(this.$D,D.daysInMonth())).$d}else x&&this.$d[x](R);return this.init(),this},h.set=function(f,m){return this.clone().$set(f,m)},h.get=function(f){return this[P.p(f)]()},h.add=function(f,m){var y,T=this;f=Number(f);var b=P.p(m),x=function(H){var ce=L(T);return P.w(ce.date(ce.date()+Math.round(H*f)),T)};if(b===d)return this.set(d,this.$M+f);if(b===p)return this.set(p,this.$y+f);if(b===u)return x(1);if(b===a)return x(7);var R=(y={},y[l]=n,y[c]=s,y[o]=t,y)[b]||1,D=this.$d.getTime()+f*R;return P.w(D,this)},h.subtract=function(f,m){return this.add(-1*f,m)},h.format=function(f){var m=this,y=this.$locale();if(!this.isValid())return y.invalidDate||w;var T=f||"YYYY-MM-DDTHH:mm:ssZ",b=P.z(this),x=this.$H,R=this.$m,D=this.$M,H=y.weekdays,ce=y.months,ie=function(W,ue,ct,Je){return W&&(W[ue]||W(m,T))||ct[ue].slice(0,Je)},je=function(W){return P.s(x%12||12,W,"0")},Re=y.meridiem||function(W,ue,ct){var Je=W<12?"AM":"PM";return ct?Je.toLowerCase():Je},Oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:D+1,MM:P.s(D+1,2,"0"),MMM:ie(y.monthsShort,D,ce,3),MMMM:ie(ce,D),D:this.$D,DD:P.s(this.$D,2,"0"),d:String(this.$W),dd:ie(y.weekdaysMin,this.$W,H,2),ddd:ie(y.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(x),HH:P.s(x,2,"0"),h:je(1),hh:je(2),a:Re(x,R,!0),A:Re(x,R,!1),m:String(R),mm:P.s(R,2,"0"),s:String(this.$s),ss:P.s(this.$s,2,"0"),SSS:P.s(this.$ms,3,"0"),Z:b};return T.replace(O,function(W,ue){return ue||Oe[W]||b.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(f,m,y){var T,b=P.p(m),x=L(f),R=(x.utcOffset()-this.utcOffset())*n,D=this-x,H=P.m(this,x);return H=(T={},T[p]=H/12,T[d]=H,T[_]=H/3,T[a]=(D-R)/6048e5,T[u]=(D-R)/864e5,T[c]=D/s,T[l]=D/n,T[o]=D/t,T)[b]||D,y?H:P.a(H)},h.daysInMonth=function(){return this.endOf(d).$D},h.$locale=function(){return J[this.$L]},h.locale=function(f,m){if(!f)return this.$L;var y=this.clone(),T=U(f,m,!0);return T&&(y.$L=T),y},h.clone=function(){return P.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},S}(),qe=q.prototype;return L.prototype=qe,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",d],["$y",p],["$D",v]].forEach(function(S){qe[S[1]]=function(h){return this.$g(h,S[0],S[1])}}),L.extend=function(S,h){return S.$i||(S(h,q,L),S.$i=!0),L},L.locale=U,L.isDayjs=te,L.unix=function(S){return L(1e3*S)},L.en=J[B],L.Ls=J,L.p={},L})})(fn);var So=fn.exports;const Tr=Vr(So);function Eo(){const[r,e]=_e(new Date),[t,n]=_e(new Date);function s(c){e(c.target.value)}function i(c){n(c.target.value)}async function o(){const{data:{user:c}}=await le.auth.getUser(),u=c==null?void 0:c.id,a=Tr(r),d=Tr(t);let{data:_,error:p}=await le.from("profiles").select("*").eq("id",u);p&&console.error(p);let v=_[0].one_off_times_start,w=_[0].one_off_times_end;console.log(v),console.log(w),v==null?v=[a.format("YYYY-MM-DDTHH:mm:ssZZ")]:v==null||v.push(a.format("YYYY-MM-DDTHH:mm:ssZZ")),w==null?w=[d.format("YYYY-MM-DDTHH:mm:ssZZ")]:w==null||w.push(d.format("YYYY-MM-DDTHH:mm:ssZZ"));const{error:g}=await le.from("profiles").update({one_off_times_start:v,one_off_times_end:w}).eq("id",u);g&&console.error(g),ae("/")}function l(){ae("/")}return k(Z,{children:[k("div",{class:"text-center inline-flex flex-col items-center gap-3",children:[k("div",{class:"inline-flex flex-row",children:[k("h3",{class:"m-3 text-white text-lg",children:"Start"}),k("input",{class:"my-3",type:"datetime-local",onChange:s})]}),k("div",{class:"inline-flex flex-row",children:[k("h3",{class:"m-3 text-white text-lg",children:"End"}),k("input",{class:"my-3",type:"datetime-local",onChange:i})]})]}),k("div",{class:"text-center inline-flex items-center",children:[k("button",{onClick:o,type:"button",class:"bg-green-500",children:"Add"}),k("button",{onClick:l,type:"button",class:"bg-red-600",children:"Cancel"})]})]})}function xo(){const[r,e]=_e(""),[t,n]=_e(""),[s,i]=_e("mon");function o(d){e(d.target.value)}function l(d){n(d.target.value)}function c(d){i(d.target.value)}async function u(){const{data:{user:d}}=await le.auth.getUser(),_=d==null?void 0:d.id;let{data:p,error:v}=await le.from("profiles").select("*").eq("id",_);v&&console.error(v);let w=p[0].repating_times_start,g=p[0].repating_times_end;w[s].push(r),g[s].push(t);const{error:O}=await le.from("profiles").update({repating_times_start:w,repating_times_end:g}).eq("id",_);O&&console.error(O),console.log(w),console.log(r),ae("/")}function a(){ae("/")}return k(Z,{children:[k("div",{class:"flex flex-col justify-center text-center",children:[k("span",{class:"inline-block m-2",children:[k("label",{for:"startTime",class:"m-2 text-white",children:" Start Time"}),k("input",{class:"",type:"time",onChange:o,id:"startTime"})]}),k("span",{class:"inline-block m-2",children:[k("label",{for:"endTime",class:"m-2 text-white",children:"End Time"}),k("input",{class:"",type:"time",onChange:l,id:"endTime"})]}),k("select",{onChange:c,class:"m-2",children:[k("option",{value:"mon",children:"Monday"}),k("option",{value:"tue",children:"Tuesday"}),k("option",{value:"wed",children:"Wednesday"}),k("option",{value:"thu",children:"Thursday"}),k("option",{value:"fri",children:"Friday"}),k("option",{value:"sat",children:"Saturday"}),k("option",{value:"sun",children:"Sunday"})]})]}),k("div",{class:"text-center inline-flex items-center",children:[k("button",{onClick:u,type:"button",class:"bg-green-500",children:"Add"}),k("button",{onClick:a,type:"button",class:"bg-red-600",children:"Cancel"})]})]})}const Co=()=>k(Jr,{children:[k(Bs,{path:"/"}),k(Eo,{path:"/date"}),k(xo,{path:"/time"}),k(Oo,{path:"/auth"})]});xe(k(Co,{}),document.getElementById("app"));
